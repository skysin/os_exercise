# lec10

## 10.1

* 硬件设置、软件可修改；

* 是

* CPU会把产生异常的线性地址存储在cr2中

## 10.2

* GDT

* list_entry_t

* 物理页帧号、标志位

* 缺页异常处理代码

* 修改页表项内容

* 页表项中的有效位

## 10.3

* 对换分区的初始化；

* 逻辑地址空间初始化；

* 逻辑地址空间的合法区域的维护数据结构；

* 用于维护连续逻辑地址空间映射的数据结构；

* 在swap_in_page中找到

* 合法的连续虚拟地址区域、整个进程的地址空间

* 物理页面在内存中，虚拟地址空间包含物理页面和后备页面，页表项提供虚拟地址空间到物理页面的转化，如果转化不成功，就会到后备页面中寻找。

## 10.4

* 前者将硬盘中的页换入到内存中或者新建一个页对应物理地址。后者直接挂起。pgfault_handler

* 查找合法逻辑地址所在vma数据结构；

* 读取在外存中的页面内容；

* page_insert

* 红黑树，用于加快查找速度；

* 硬件

* 硬件

## 10.5

* PTE中存在位为零时，采用swap_entry_t的结构来表示与外存后备页面的对应关系；

* 更改页表

* le2page页面是否为空，空闲页面数量是否正确，mm数据结构是否完成，引导页目录项是否建立，vma是否为空，起始地址处get_pte是否为空，分配页面是否成功

* 存储后备物理页面，内存中

* list_entry_t链表

* swap_manager